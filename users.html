<!DOCTYPE html>
<html>
<head>
<title>Users</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:Inter;background:#f3f4f6;padding:40px}
.user{background:white;padding:15px;border-radius:8px;margin-bottom:10px;cursor:pointer}
</style>
</head>
<body>

<h2>All Users</h2>
<div id="usersList"></div>

<script src="firebase.js"></script>
<script>
auth.onAuthStateChanged(user=>{
  if(!user){window.location="index.html";}
});

db.collection("users").onSnapshot(snapshot=>{
  usersList.innerHTML="";
  snapshot.forEach(doc=>{
    usersList.innerHTML+=`
      <div class="user" onclick="openChat('${doc.id}')">
        ${doc.data().email}
      </div>
    `;
  });
});

function openChat(uid){
  window.location="chat.html?uid="+uid;
}
</script>

</body>
</html>
